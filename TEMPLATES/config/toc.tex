%----------------------------------------------
% Table of Contents Component
%----------------------------------------------
\usepackage{tocloft}

%----------------------------------------------
% TOC Formatting
%----------------------------------------------
\renewcommand{\cfttoctitlefont}{\Large\lugbold\color{lugprimary}}
\renewcommand{\cftaftertoctitle}{\vspace{1em}\textcolor{lugprimary}{\titlerule[0.8pt]}}

% Section formatting
\renewcommand{\cftsecfont}{\lugbold\color{lugprimary}}
\renewcommand{\cftsecpagefont}{\lugbold\color{lugprimary}}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}

% Subsection formatting
\renewcommand{\cftsubsecfont}{\color{lugdark}}
\renewcommand{\cftsubsecpagefont}{\color{lugdark}}
\renewcommand{\cftsubsecleader}{\cftdotfill{\cftdotsep}}

% Subsubsection formatting
\renewcommand{\cftsubsubsecfont}{\color{lugmedium}}
\renewcommand{\cftsubsubsecpagefont}{\color{lugmedium}}
\renewcommand{\cftsubsubsecleader}{\cftdotfill{\cftdotsep}}

%----------------------------------------------
% TOC Spacing
%----------------------------------------------
\setlength{\cftbeforesecskip}{0.5em}
\setlength{\cftbeforesubsecskip}{0.2em}
\setlength{\cftbeforesubsubsecskip}{0.1em}

%----------------------------------------------
% Custom TOC Command
%----------------------------------------------
\newcommand{\lugtoc}{
    \clearpage
    \thispagestyle{lugtoc}
    \renewcommand{\contentsname}{Table of Contents}
    \tableofcontents
    \clearpage
}

%----------------------------------------------
% Mini TOC for Sections
%----------------------------------------------
\newcommand{\minitoc}{
    \vspace{1em}
    \begin{center}
        \colorbox{luglight}{
            \begin{minipage}{0.8\textwidth}
                \centering
                \vspace{0.3cm}
                \normalsize\lugbold{In This Section}
                \vspace{0.2cm}
                
                \small
                \localtableofcontents
                \vspace{0.3cm}
            \end{minipage}
        }
    \end{center}
    \vspace{1em}
}

%----------------------------------------------
% List of Figures
%----------------------------------------------
\renewcommand{\cftloftitlefont}{\Large\lugbold\color{lugprimary}}
\renewcommand{\cftafterloftitle}{\vspace{1em}\textcolor{lugprimary}{\titlerule[0.8pt]}}
\renewcommand{\cftfigfont}{\color{lugdark}}
\renewcommand{\cftfigpagefont}{\color{lugdark}}

\newcommand{\luglistoffigures}{
    \clearpage
    \thispagestyle{lugtoc}
    \renewcommand{\listfigurename}{List of Figures}
    \listoffigures
    \clearpage
}

%----------------------------------------------
% List of Tables
%----------------------------------------------
\renewcommand{\cftlottitlefont}{\Large\lugbold\color{lugprimary}}
\renewcommand{\cftafterlottitle}{\vspace{1em}\textcolor{lugprimary}{\titlerule[0.8pt]}}
\renewcommand{\cfttabfont}{\color{lugdark}}
\renewcommand{\cfttabpagefont}{\color{lugdark}}

\newcommand{\luglistoftables}{
    \clearpage
    \thispagestyle{lugtoc}
    \renewcommand{\listtablename}{List of Tables}
    \listoftables
    \clearpage
}

%----------------------------------------------
% List of Listings
%----------------------------------------------
\renewcommand{\lstlistlistingname}{List of Code Listings}
\renewcommand{\lstlistingname}{Listing}

\newcommand{\luglistoflistings}{
    \clearpage
    \thispagestyle{lugtoc}
    \lstlistoflistings
    \clearpage
}

%----------------------------------------------
% Combined Lists
%----------------------------------------------
\newcommand{\lugalllists}{
    \lugtoc
    \luglistoffigures
    \luglistoftables
    \luglistoflistings
}

%----------------------------------------------
% Quick Navigation
%----------------------------------------------
\newcommand{\quicknav}{
    \begin{center}
        \begin{tcolorbox}[
            colback=luglight,
            colframe=lugprimary,
            title={\lugbold{Quick Navigation}},
            width=0.8\textwidth,
            arc=3pt,
            boxrule=0.8pt
        ]
        \centering
        \hyperref[introduction]{\lugbold{Introduction}} |
        \hyperref[main-content]{\lugbold{Main Content}} |
        \hyperref[exercises]{\lugbold{Exercises}} |
        \hyperref[conclusion]{\lugbold{Conclusion}} |
        \hyperref[resources]{\lugbold{Resources}}
        \end{tcolorbox}
    \end{center}
}

%----------------------------------------------
% Section Overview
%----------------------------------------------
\newcommand{\sectionoverview}[1]{
    \begin{center}
        \begin{tcolorbox}[
            colback=lugsecondary!10,
            colframe=lugsecondary,
            title={\lugbold{Section Overview}},
            width=0.9\textwidth,
            arc=3pt,
            boxrule=0.8pt
        ]
        #1
        \end{tcolorbox}
    \end{center}
    \vspace{1em}
}