%----------------------------------------------
% Custom Boxes and Environments
%----------------------------------------------
\usepackage{tcolorbox}
\tcbuselibrary{most}

%----------------------------------------------
% Base Box Style
%----------------------------------------------
\tcbset{
    lugbox/.style={
        enhanced,
        boxrule=0.8pt,
        arc=3pt,
        fonttitle=\lugbold,
        coltitle=white,
        left=8pt,
        right=8pt,
        top=8pt,
        bottom=8pt,
        beforeafter skip=1em,
        breakable
    }
}

%----------------------------------------------
% Information Box
%----------------------------------------------
\newtcolorbox{infobox}[1][]{
    lugbox,
    colback=luginfo!10,
    colframe=luginfo,
    colbacktitle=luginfo,
    title={\faInfoCircle\ Information},
    #1
}

%----------------------------------------------
% Warning Box
%----------------------------------------------
\newtcolorbox{warningbox}[1][]{
    lugbox,
    colback=lugwarning!10,
    colframe=lugwarning,
    colbacktitle=lugwarning,
    title={\faExclamationTriangle\ Important Note},
    #1
}

%----------------------------------------------
% Danger Box
%----------------------------------------------
\newtcolorbox{dangerbox}[1][]{
    lugbox,
    colback=lugdanger!10,
    colframe=lugdanger,
    colbacktitle=lugdanger,
    title={\faExclamationCircle\ Danger},
    #1
}

%----------------------------------------------
% Success Box
%----------------------------------------------
\newtcolorbox{successbox}[1][]{
    lugbox,
    colback=lugsuccess!10,
    colframe=lugsuccess,
    colbacktitle=lugsuccess,
    title={\faCheckCircle\ Success},
    #1
}

%----------------------------------------------
% Command Box
%----------------------------------------------
\newtcolorbox{commandbox}[1][]{
    lugbox,
    colback=luglight,
    colframe=lugdark,
    colbacktitle=lugdark,
    fonttitle=\lugbold\ttfamily,
    title={\faTerminal\ Command Line},
    #1
}

%----------------------------------------------
% Code Box
%----------------------------------------------
\newtcolorbox{codebox}[1][]{
    lugbox,
    colback=codeback,
    colframe=lugprimary,
    colbacktitle=lugprimary,
    title={\faCode\ Code},
    #1
}

%----------------------------------------------
% Tip Box
%----------------------------------------------
\newtcolorbox{tipbox}[1][]{
    lugbox,
    colback=lugsecondary!10,
    colframe=lugsecondary,
    colbacktitle=lugsecondary,
    title={\faLightbulb\ Tip},
    #1
}

%----------------------------------------------
% Note Box
%----------------------------------------------
\newtcolorbox{notebox}[1][]{
    lugbox,
    colback=lugmedium!10,
    colframe=lugmedium,
    colbacktitle=lugmedium,
    title={\faStickyNote\ Note},
    #1
}

%----------------------------------------------
% Terminal Box
%----------------------------------------------
\newtcolorbox{terminalbox}[1][]{
    enhanced,
    boxrule=1pt,
    arc=0pt,
    colback=terminalback,
    colframe=lugdark,
    coltext=terminaltext,
    fonttitle=\lugbold\ttfamily\color{terminalgreen},
    title={\faDesktop\ Terminal},
    left=8pt,
    right=8pt,
    top=8pt,
    bottom=8pt,
    beforeafter skip=1em,
    breakable,
    #1
}

%----------------------------------------------
% Quote Box
%----------------------------------------------
\newtcolorbox{quotebox}[1][]{
    enhanced,
    boxrule=0pt,
    frame hidden,
    borderline west={4pt}{0pt}{lugprimary},
    colback=luglight,
    left=12pt,
    right=8pt,
    top=8pt,
    bottom=8pt,
    beforeafter skip=1em,
    breakable,
    #1
}

%----------------------------------------------
% Key Points Box
%----------------------------------------------
\newtcolorbox{keypointsbox}[1][]{
    lugbox,
    colback=lugaccent!10,
    colframe=lugaccent,
    colbacktitle=lugaccent,
    title={\faKey\ Key Points},
    #1
}

%----------------------------------------------
% Summary Box
%----------------------------------------------
\newtcolorbox{summarybox}[1][]{
    lugbox,
    colback=lugprimary!10,
    colframe=lugprimary,
    colbacktitle=lugprimary,
    title={\faList\ Summary},
    #1
}

%----------------------------------------------
% Exercise Box
%----------------------------------------------
\newtcolorbox{exercisebox}[1][]{
    lugbox,
    colback=lugsuccess!10,
    colframe=lugsuccess,
    colbacktitle=lugsuccess,
    title={\faPencil\ Exercise},
    #1
}

%----------------------------------------------
% Question Box
%----------------------------------------------
\newtcolorbox{questionbox}[1][]{
    lugbox,
    colback=lugaccent!10,
    colframe=lugaccent,
    colbacktitle=lugaccent,
    title={\faQuestion\ Question},
    #1
}

%----------------------------------------------
% Simple Highlight
%----------------------------------------------
\newcommand{\highlight}[1]{\colorbox{highlightyellow}{#1}}
\newcommand{\bluehighlight}[1]{\colorbox{highlightblue}{#1}}
\newcommand{\greenhighlight}[1]{\colorbox{highlightgreen}{#1}}

%----------------------------------------------
% Callout Commands
%----------------------------------------------
\newcommand{\callout}[2][lugprimary]{%
    \begin{tcolorbox}[
        enhanced,
        boxrule=0pt,
        frame hidden,
        borderline left={4pt}{0pt}{#1},
        colback=#1!10,
        left=12pt,
        right=8pt,
        top=8pt,
        bottom=8pt,
        beforeafter skip=0.5em
    ]
    #2
    \end{tcolorbox}
}

%----------------------------------------------
% Font Awesome Icons (requires fontawesome package)
%----------------------------------------------
\usepackage{fontawesome}
\providecommand{\faInfoCircle}{\faInfo}
\providecommand{\faExclamationTriangle}{\faWarning}
\providecommand{\faExclamationCircle}{\faExclamation}
\providecommand{\faCheckCircle}{\faCheck}
\providecommand{\faTerminal}{\faCode}
\providecommand{\faCode}{\faFileCode}
\providecommand{\faLightbulb}{\faBolt}
\providecommand{\faStickyNote}{\faFile}
\providecommand{\faDesktop}{\faDesktop}
\providecommand{\faKey}{\faKey}
\providecommand{\faList}{\faList}
\providecommand{\faPencil}{\faPencil}
\providecommand{\faQuestion}{\faQuestion}